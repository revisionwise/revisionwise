<div class="content main-content loggedin profile-update text-center">
  <span class="spacer60"></span>
  <div class="profile-update panel text-center border-radius-x2 fade-in-top">
    <div class="form-wrapper">
      <h1 class="condensed fc-subtitle" flex>UPDATE PHONE NUMBER</h1>
      <div class="form-error text-center" ng-show="errorMsg">
        <p><i class="material-icons md-18">report_problem</i> &nbsp;{{ errorMsg }}</p>
      </div>

      <!-- ****** PROFILE UPDATE PHONE ****** -->

      <form name="updatePhone" novalidate ng-submit="updateUserPhone(user)">

        <!-- PHONE NO -->
        <div class="input-wrapper dual">
          <label class="text-left">&nbsp;Enter new number <span class="font12">(to replace {{ user_phone }})</span></label>
          <input type="number" class="dual-sm" ng-class="{ 'input-error' : submitted && updatePhone.code.$invalid }" name="code" ng-model="user.code" ng-init="user.code = 254" ng-minlength="3" ng-maxlength="3" ng-model-options="{ updateOn: 'blur' }" placeholder="254">
          <input type="number" class="dual-lg" ng-class="{ 'input-error' : submitted && updatePhone.mobile.$invalid }" name="mobile" ng-model="user.mobile" ng-minlength="9" ng-maxlength="12" placeholder="e.g. 0723xxxxxx" ng-model-options="{ updateOn: 'blur' }">
          <div class="help-block" ng-messages="updatePhone.mobile.$error" ng-show="submitted" ng-class="{ 'input-error' : (submitted && updatePhone.code.$invalid) || (submitted && updatePhone.mobile.$invalid) }">
            <p ng-message="number">Phone number is not valid</p>
            <p ng-message="required">Phone number is required</p>
            <p ng-message="maxlength">Phone number should be 12 digits or less</p>
            <p ng-message="minlength">Phone number should be 9 digits or more</p>
          </div>
          <div class="help-block" ng-messages="updatePhone.code.$error" ng-show="submitted" ng-class="{ 'input-error' : (submitted && updatePhone.code.$invalid) || (submitted && updatePhone.mobile.$invalid) }">
            <p ng-message="number">Country is not valid</p>
            <p ng-message="required">Country code is required</p>
            <p ng-message="maxlength">Country code should be 3 digits</p>
            <p ng-message="minlength">Country code should be 3 digits</p>
          </div>
        </div>
        <!-- SUBMIT BUTTON -->
        <md-button type="submit" class="yellow wide" aria-label="Submit">
          <span ng-hide="updating_info">Update phone number</span> <span ng-show="updating_info">Updating...</span>
        </md-button>
        <br><span class="loader" ng-show="updating_info"><img src="/assets/img/loader.gif" alt=""></span>
        <span class="spacer"></span>
        <span class="spacer"></span>
        <span class="text-center"><nobr><a href="#!/profile/update">Update profile?</a></nobr></span>&nbsp;&nbsp;
        <span class="text-center"><nobr><a href="#!/profile/update/pin">Update pin?</a></nobr></span>
      </form>

    </div>
  </div>
  <span class="spacer60"></span>
</div>
